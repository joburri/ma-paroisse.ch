(function(a,b){typeof exports=='object'&&typeof module!='undefined'?module.exports=b():typeof define=='function'&&define.amd?define(b):(a=a||self,a.Fuse=b())})(this,function(){'use strict';var ao,ak,ah,ag,af,ad,ac,B,W,ab,aa,_,Y,a,X,p,i,D,g,T,S,Q,P,O,N,z,v,s,C,K,J,I,H,n,m,q,r,L,M,y,l;function u(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(a){return typeof a}:u=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},u(a)}function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function R(d,c){for(var b=0,a;b<c.length;b++)a=c[b],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}function c(a,b,c){return b&&R(a.prototype,b),c&&R(a,c),a}function w(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function U(b,d){var c=Object.keys(b),a;return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(b),d&&(a=a.filter(function(a){return Object.getOwnPropertyDescriptor(b,a).enumerable})),c.push.apply(c,a)),c}function V(c){for(var b=1,a;b<arguments.length;b++)a=arguments[b]!=null?arguments[b]:{},b%2?U(Object(a),!0).forEach(function(b){w(c,b,a[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(a,b))});return c}function k(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&F(b,a)}function o(a){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},o(a)}function F(a,b){return F=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},F(a,b)}function aI(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function aH(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function aE(b,a){return a&&(typeof a=="object"||typeof a=="function")?a:aH(b)}function h(a){var b=aI();return function(){var d=o(a),c,e;return b?(e=o(this).constructor,c=Reflect.construct(d,arguments,e)):c=d.apply(this,arguments),aE(this,c)}}function j(a){return aB(a)||aA(a)||ay(a)||av()}function aB(a){if(Array.isArray(a))return x(a)}function aA(a){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(a))return Array.from(a)}function ay(a,c){if(!a)return;if(typeof a=="string")return x(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if(b==="Object"&&a.constructor&&(b=a.constructor.name),b==="Map"||b==="Set")return Array.from(a);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return x(a,c)}function x(c,a){(a==null||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function av(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(a){return Array.isArray?Array.isArray(a):am(a)==='[object Array]'}ao=1/0;function au(a){if(typeof a=='string')return a;var b=a+'';return b=='0'&&1/a==-ao?'-0':b}function at(a){return a==null?'':au(a)}function e(a){return typeof a=='string'}function al(a){return typeof a=='number'}function ar(a){return a===!0||a===!1||aq(a)&&am(a)=='[object Boolean]'}function an(a){return u(a)==='object'}function aq(a){return an(a)&&a!==null}function d(a){return a!==void 0&&a!==null}function G(a){return!a.trim().length}function am(a){return a==null?a===void 0?'[object Undefined]':'[object Null]':Object.prototype.toString.call(a)}ak='Extended search is not available',ah="Incorrect 'index' type",ag=function(a){return"Invalid value for key ".concat(a)},af=function(a){return"Pattern length exceeds max of ".concat(a,".")},ad=function(a){return"Missing ".concat(a," property in key")},ac=function(a){return"Property 'weight' in key '".concat(a,"' must be a positive integer")},B=Object.prototype.hasOwnProperty,W=function(){function a(e){var d=this,c;b(this,a),this._keys=[],this._keyMap={},c=0,e.forEach(function(b){var a=aj(b);c+=a.weight,d._keys.push(a),d._keyMap[a.id]=a,c+=a.weight}),this._keys.forEach(function(a){a.weight/=c})}return c(a,[{key:"get",value:function(a){return this._keyMap[a]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),a}();function aj(a){var c=null,d=null,g=null,h=1,b;if(e(a)||f(a))g=a,c=ai(a),d=A(a);else{if(!B.call(a,'name'))throw new Error(ad('name'));if(b=a.name,g=b,B.call(a,'weight'))if(h=a.weight,h<=0)throw new Error(ac(b));c=ai(b),d=A(b)}return{path:c,id:d,weight:h,src:g}}function ai(a){return f(a)?a:a.split('.')}function A(a){return f(a)?a.join('.'):a}function aw(g,b){var a=[],c=!1,h=function l(j,g,h){var k,b,i,m;if(!d(j))return;if(g[h]){if(k=g[h],b=j[k],!d(b))return;if(h===g.length-1&&(e(b)||al(b)||ar(b)))a.push(at(b));else if(f(b)){c=!0;for(i=0,m=b.length;i<m;i+=1)l(b[i],g,h+1)}else g.length&&l(b,g,h+1)}else a.push(j)};return h(g,e(b)?b.split('.'):b,0),c?a:a[0]}ab={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},aa={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(a,b){return a.score===b.score?a.idx<b.idx?-1:1:a.score<b.score?-1:1}},_={location:0,threshold:.6,distance:100},Y={useExtendedSearch:!1,getFn:aw,ignoreLocation:!1,ignoreFieldNorm:!1},a=V({},aa,{},ab,{},_,{},Y),X=/[^ ]+/g;function ax(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,a=new Map,b=Math.pow(10,c);return{get:function(f){var c=f.match(X).length,e,d;return a.has(c)?a.get(c):(e=1/Math.sqrt(c),d=parseFloat(Math.round(e*b)/b),a.set(c,d),d)},clear:function(){a.clear()}}}p=function(){function g(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=d.getFn,e=c===void 0?a.getFn:c;b(this,g),this.norm=ax(3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}return c(g,[{key:"setSources",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=a}},{key:"setIndexRecords",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=a}},{key:"setKeys",value:function(){var b=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=a,this._keysMap={},a.forEach(function(a,c){b._keysMap[a.id]=c})}},{key:"create",value:function(){var a=this;if(this.isCreated||!this.docs.length)return;this.isCreated=!0,e(this.docs[0])?this.docs.forEach(function(b,c){a._addString(b,c)}):this.docs.forEach(function(b,c){a._addObject(b,c)}),this.norm.clear()}},{key:"add",value:function(a){var b=this.size();e(a)?this._addString(a,b):this._addObject(a,b)}},{key:"removeAt",value:function(b){this.records.splice(b,1);for(var a=b,c=this.size();a<c;a+=1)this.records[a].i-=1}},{key:"getValueForItemAtKeyId",value:function(a,b){return a[this._keysMap[b]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(a,b){if(!d(a)||G(a))return;var c={v:a,i:b,n:this.norm.get(a)};this.records.push(c)}},{key:"_addObject",value:function(c,g){var a=this,b={i:g,$:{}};this.keys.forEach(function(j,h){var g=a.getFn(c,j.path),i;if(!d(g))return;f(g)?function(){for(var k=[],i=[{nestedArrIndex:-1,value:g}],j,l,c,m;i.length;){if(j=i.pop(),l=j.nestedArrIndex,c=j.value,!d(c))continue;e(c)&&!G(c)?(m={v:c,i:l,n:a.norm.get(c)},k.push(m)):f(c)&&c.forEach(function(a,b){i.push({nestedArrIndex:b,value:a})})}b.$[h]=k}():G(g)||(i={v:g,n:a.norm.get(g)},b.$[h]=i)}),this.records.push(b)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),g}();function ae(d,e){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=f.getFn,g=c===void 0?a.getFn:c,b=new p({getFn:g});return b.setKeys(d.map(aj)),b.setSources(e),b.create(),b}function az(d){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=e.getFn,f=c===void 0?a.getFn:c,g=d.keys,h=d.records,b=new p({getFn:f});return b.setKeys(g),b.setIndexRecords(h),b}function t(o){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=b.errors,n=f===void 0?0:f,g=b.currentLocation,l=g===void 0?0:g,i=b.expectedLocation,k=i===void 0?0:i,j=b.distance,e=j===void 0?a.distance:j,h=b.ignoreLocation,m=h===void 0?a.ignoreLocation:h,c=n/o.length,d;return m?c:(d=Math.abs(k-l),!e)?d?1:c:c+d/e}function aM(){for(var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.minMatchCharLength,f=[],b=-1,g=-1,c=0,i=d.length,e;c<i;c+=1)e=d[c],e&&b===-1?b=c:!e&&b!==-1&&(g=c-1,g-b+1>=h&&f.push([b,g]),b=-1);return d[c-1]&&c-b>=h&&f.push([b,c-1]),f}i=32;function aC(B,g,V){var j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},K=j.location,T=K===void 0?a.location:K,P=j.distance,x=P===void 0?a.distance:P,O=j.threshold,S=O===void 0?a.threshold:O,R=j.findAllMatches,U=R===void 0?a.findAllMatches:R,G=j.minMatchCharLength,I=G===void 0?a.minMatchCharLength:G,J=j.includeMatches,N=J===void 0?a.includeMatches:J,Q=j.ignoreLocation,A=Q===void 0?a.ignoreLocation:Q,k,m,b,l,f,s,z,u,L,v,q,p,r,F,e,n,d,M,C,w,h,c,o,E,H,y,D;if(g.length>i)throw new Error(af(i));for(k=g.length,m=B.length,b=Math.max(0,Math.min(T,m)),l=S,f=b,s=I>1||N,z=s?Array(m):[];(u=B.indexOf(g,f))>-1;)if(L=t(g,{currentLocation:u,expectedLocation:b,distance:x,ignoreLocation:A}),l=Math.min(L,l),f=u+k,s)for(v=0;v<k;)z[u+v]=1,v+=1;f=-1,q=[],p=1,r=k+m,F=1<<k-1;for(e=0;e<k;e+=1){for(n=0,d=r;n<d;)M=t(g,{errors:e,currentLocation:b+d,expectedLocation:b,distance:x,ignoreLocation:A}),M<=l?n=d:r=d,d=Math.floor((r-n)/2+n);r=d,C=Math.max(1,b-d+1),w=U?m:Math.min(b+d,m)+k,h=Array(w+2),h[w+1]=(1<<e)-1;for(c=w;c>=C;c-=1)if(o=c-1,E=V[B.charAt(o)],s&&(z[o]=+!!E),h[c]=(h[c+1]<<1|1)&E,e&&(h[c]|=(q[c+1]|q[c])<<1|1|q[c+1]),h[c]&F)if(p=t(g,{errors:e,currentLocation:o,expectedLocation:b,distance:x,ignoreLocation:A}),p<=l){if(l=p,f=o,f<=b)break;C=Math.max(1,2*b-f)}if(H=t(g,{errors:e+1,currentLocation:b,expectedLocation:b,distance:x,ignoreLocation:A}),H>l)break;q=h}return y={isMatch:f>=0,score:Math.max(.001,p)},s&&(D=aM(z,I),D.length?N&&(y.indices=D):y.isMatch=!1),y}function aD(d){for(var b={},a=0,e=d.length,c;a<e;a+=1)c=d.charAt(a),b[c]=(b[c]||0)|1<<e-a-1;return b}D=function(){function d(u){var B=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=c.location,A=o===void 0?a.location:o,m=c.threshold,z=m===void 0?a.threshold:m,l=c.distance,y=l===void 0?a.distance:l,n=c.includeMatches,x=n===void 0?a.includeMatches:n,p=c.findAllMatches,C=p===void 0?a.findAllMatches:p,r=c.minMatchCharLength,v=r===void 0?a.minMatchCharLength:r,t=c.isCaseSensitive,k=t===void 0?a.isCaseSensitive:t,s=c.ignoreLocation,w=s===void 0?a.ignoreLocation:s,g,f,e,j,q,h;if(b(this,d),this.options={location:A,threshold:z,distance:y,includeMatches:x,findAllMatches:C,minMatchCharLength:v,isCaseSensitive:k,ignoreLocation:w},this.pattern=k?u:u.toLowerCase(),this.chunks=[],!this.pattern.length)return;if(g=function(a,b){B.chunks.push({pattern:a,alphabet:aD(a),startIndex:b})},f=this.pattern.length,f>i){for(e=0,j=f%i,q=f-j;e<q;)g(this.pattern.substr(e,i),e),e+=i;j&&(h=f-i,g(this.pattern.substr(h),h))}else g(this.pattern,0)}return c(d,[{key:"searchIn",value:function(b){var o=this.options,q=o.isCaseSensitive,f=o.includeMatches,g,a,n,i,p,k,l,m,d,e,c,h;return q||(b=b.toLowerCase()),this.pattern===b?(g={isMatch:!0,score:0},f&&(g.indices=[[0,b.length-1]]),g):(a=this.options,n=a.location,i=a.distance,p=a.threshold,k=a.findAllMatches,l=a.minMatchCharLength,m=a.ignoreLocation,d=[],e=0,c=!1,this.chunks.forEach(function(a){var t=a.pattern,q=a.alphabet,r=a.startIndex,g=aC(b,t,q,{location:n+r,distance:i,threshold:p,findAllMatches:k,minMatchCharLength:l,includeMatches:f,ignoreLocation:m}),o=g.isMatch,s=g.score,h=g.indices;o&&(c=!0),e+=s,o&&h&&(d=[].concat(j(d),j(h)))}),h={isMatch:c,score:c?e/this.chunks.length:1},c&&f&&(h.indices=d),h)}}]),d}(),g=function(){function a(c){b(this,a),this.pattern=c}return c(a,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(a){return $(a,this.multiRegex)}},{key:"isSingleMatch",value:function(a){return $(a,this.singleRegex)}}]),a}();function $(b,c){var a=b.match(c);return a?a[1]:null}T=function(d){k(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(b){var a=b===this.pattern;return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return'exact'}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),a}(g),S=function(d){k(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(a){var c=a.indexOf(this.pattern),b=c===-1;return{isMatch:b,score:b?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return'inverse-exact'}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),a}(g),Q=function(d){k(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(b){var a=b.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return'prefix-exact'}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),a}(g),P=function(d){k(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(a){var b=!a.startsWith(this.pattern);return{isMatch:b,score:b?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return'inverse-prefix-exact'}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),a}(g),O=function(d){k(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(a){var b=a.endsWith(this.pattern);return{isMatch:b,score:b?0:1,indices:[a.length-this.pattern.length,a.length-1]}}}],[{key:"type",get:function(){return'suffix-exact'}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),a}(g),N=function(d){k(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(a){var b=!a.endsWith(this.pattern);return{isMatch:b,score:b?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return'inverse-suffix-exact'}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),a}(g),z=function(e){k(d,e);var f=h(d);function d(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=c.location,u=h===void 0?a.location:h,i=c.threshold,s=i===void 0?a.threshold:i,k=c.distance,q=k===void 0?a.distance:k,m=c.includeMatches,w=m===void 0?a.includeMatches:m,g=c.findAllMatches,p=g===void 0?a.findAllMatches:g,l=c.minMatchCharLength,r=l===void 0?a.minMatchCharLength:l,j=c.isCaseSensitive,t=j===void 0?a.isCaseSensitive:j,n=c.ignoreLocation,v=n===void 0?a.ignoreLocation:n,e;return b(this,d),e=f.call(this,o),e._bitapSearch=new D(o,{location:u,threshold:s,distance:q,includeMatches:w,findAllMatches:p,minMatchCharLength:r,isCaseSensitive:t,ignoreLocation:v}),e}return c(d,[{key:"search",value:function(a){return this._bitapSearch.searchIn(a)}}],[{key:"type",get:function(){return'fuzzy'}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),d}(g),v=function(d){k(a,d);var e=h(a);function a(c){return b(this,a),e.call(this,c)}return c(a,[{key:"search",value:function(e){for(var a=0,b=[],f=this.pattern.length,c,d;(c=e.indexOf(this.pattern,a))>-1;)a=c+f,b.push([c,a-1]);return d=!!b.length,{isMatch:d,score:d?0:1,indices:b}}}],[{key:"type",get:function(){return'include'}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),a}(g),s=[T,v,Q,P,N,O,S,z],C=s.length,K=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,J='|';function aF(b){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b.split(J).map(function(l){for(var k=l.trim().split(K).filter(function(a){return a&&!!a.trim()}),d=[],e=0,m=k.length,g,c,b,h,i,f,j;e<m;e+=1){for(g=k[e],c=!1,b=-1;!c&&++b<C;)h=s[b],i=h.isMultiMatch(g),i&&(d.push(new h(i,a)),c=!0);if(c)continue;for(b=-1;++b<C;)if(f=s[b],j=f.isSingleMatch(g),j){d.push(new f(j,a));break}}return d})}I=new Set([z.type,v.type]),H=function(){function d(m){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=c.isCaseSensitive,g=f===void 0?a.isCaseSensitive:f,h=c.includeMatches,t=h===void 0?a.includeMatches:h,j=c.minMatchCharLength,r=j===void 0?a.minMatchCharLength:j,l=c.ignoreLocation,o=l===void 0?a.ignoreLocation:l,n=c.findAllMatches,p=n===void 0?a.findAllMatches:n,e=c.location,q=e===void 0?a.location:e,k=c.threshold,s=k===void 0?a.threshold:k,i=c.distance,u=i===void 0?a.distance:i;b(this,d),this.query=null,this.options={isCaseSensitive:g,includeMatches:t,minMatchCharLength:r,findAllMatches:p,ignoreLocation:o,location:q,threshold:s,distance:u},this.pattern=g?m:m.toLowerCase(),this.query=aF(this.pattern,this.options)}return c(d,[{key:"searchIn",value:function(f){var i=this.query,k,l,r,b,a,c,d,p,n,g,u,h,e,q,m,s,t,o;if(!i)return{isMatch:!1,score:1};k=this.options,l=k.includeMatches,r=k.isCaseSensitive,f=r?f:f.toLowerCase(),b=0,a=[],c=0;for(d=0,p=i.length;d<p;d+=1){n=i[d],a.length=0,b=0;for(g=0,u=n.length;g<u;g+=1)if(h=n[g],e=h.search(f),q=e.isMatch,m=e.indices,s=e.score,q)b+=1,c+=s,l&&(t=h.constructor.type,I.has(t)?a=[].concat(j(a),j(m)):a.push(m));else{c=0,b=0,a.length=0;break}if(b)return o={isMatch:!0,score:c/b},l&&(o.indices=a),o}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(b,a){return a.useExtendedSearch}}]),d}(),n=[];function aG(){n.push.apply(n,arguments)}function E(a,b){for(var c=0,e=n.length,d;c<e;c+=1)if(d=n[c],d.condition(a,b))return new d(a,b);return new D(a,b)}m={AND:'$and',OR:'$or'},q={PATH:'$path',PATTERN:'$val'},r=function(a){return!!(a[m.AND]||a[m.OR])},L=function(a){return!!a[q.PATH]},M=function(a){return!f(a)&&an(a)&&!r(a)},y=function(a){return w({},m.AND,Object.keys(a).map(function(b){return w({},b,a[b])}))};function Z(a,c){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=d.auto,g=b===void 0||b,h=function l(a){var b=Object.keys(a),j=L(a),d,h,i,k;if(!j&&b.length>1&&!r(a))return l(y(a));if(M(a)){if(d=j?a[q.PATH]:b[0],h=j?a[q.PATTERN]:a[d],!e(h))throw new Error(ag(d));return i={keyId:A(d),pattern:h},g&&(i.searcher=E(h,c)),i}return k={children:[],operator:b[0]},b.forEach(function(c){var b=a[c];f(b)&&b.forEach(function(a){k.children.push(l(a))})}),k};return r(a)||(a=y(a)),h(a)}function aJ(c,d){var b=d.ignoreFieldNorm,e=b===void 0?a.ignoreFieldNorm:b;c.forEach(function(a){var b=1;a.matches.forEach(function(a){var c=a.key,g=a.norm,d=a.score,f=c?c.weight:null;b*=Math.pow(d===0&&f?Number.EPSILON:d,(f||1)*(e?1:g))}),a.score=b})}function aK(c,a){var b=c.matches;if(a.matches=[],!d(b))return;b.forEach(function(b){var e,f,c;if(!d(b.indices)||!b.indices.length)return;e=b.indices,f=b.value,c={indices:e,value:f},b.key&&(c.key=b.key.src),b.idx>-1&&(c.refIndex=b.idx),a.matches.push(c)})}function aL(a,b){b.score=a.score}function ap(f,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=c.includeMatches,g=d===void 0?a.includeMatches:d,e=c.includeScore,h=e===void 0?a.includeScore:e,b=[];return g&&b.push(aK),h&&b.push(aL),f.map(function(a){var c=a.idx,d={item:i[c],refIndex:c};return b.length&&b.forEach(function(b){b(a,d)}),d})}return l=function(){function g(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;if(b(this,g),this.options=V({},a,{},d),this.options.useExtendedSearch&&!!0)throw new Error(ak);this._keyStore=new W(this.options.keys),this.setCollection(c,e)}return c(g,[{key:"setCollection",value:function(b,a){if(this._docs=b,a&&!(a instanceof p))throw new Error(ah);this._myIndex=a||ae(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(a){if(!d(a))return;this._docs.push(a),this._myIndex.add(a)}},{key:"remove",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},c=[],a=0,d=this._docs.length,b;a<d;a+=1)b=this._docs[a],e(b,a)&&(this.removeAt(a),a-=1,d-=1,c.push(b));return c}},{key:"removeAt",value:function(a){this._docs.splice(a,1),this._myIndex.removeAt(a)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=g.limit,d=f===void 0?-1:f,a=this.options,h=a.includeMatches,i=a.includeScore,j=a.shouldSort,k=a.sortFn,l=a.ignoreFieldNorm,b=e(c)?e(this._docs[0])?this._searchStringList(c):this._searchObjectList(c):this._searchLogical(c);return aJ(b,{ignoreFieldNorm:l}),j&&b.sort(k),al(d)&&d>-1&&(b=b.slice(0,d)),ap(b,this._docs,{includeMatches:h,includeScore:i})}},{key:"_searchStringList",value:function(b){var c=E(b,this.options),e=this._myIndex.records,a=[];return e.forEach(function(f){var b=f.v,j=f.i,k=f.n,e,g,h,i;if(!d(b))return;e=c.searchIn(b),g=e.isMatch,h=e.score,i=e.indices,g&&a.push({item:b,idx:j,matches:[{score:h,value:b,norm:k,indices:i}]})}),a}},{key:"_searchLogical",value:function(h){var b=this,e=Z(h,this.options),f=function t(a,d,l){var i,q,c,g,h,p,o,k,e,f,r,s,n;if(!a.children)return i=a.keyId,q=a.searcher,c=b._findMatches({key:b._keyStore.get(i),value:b._myIndex.getValueForItemAtKeyId(d,i),searcher:q}),c&&c.length?[{idx:l,item:d,matches:c}]:[];switch(a.operator){case m.AND:{g=[];for(h=0,p=a.children.length;h<p;h+=1)if(o=a.children[h],k=t(o,d,l),k.length)g.push.apply(g,j(k));else return[];return g}case m.OR:{e=[];for(f=0,r=a.children.length;f<r;f+=1)if(s=a.children[f],n=t(s,d,l),n.length){e.push.apply(e,j(n));break}return e}}},g=this._myIndex.records,a={},c=[];return g.forEach(function(i){var g=i.$,b=i.i,h;d(g)&&(h=f(e,g,b),h.length&&(a[b]||(a[b]={idx:b,item:g,matches:[]},c.push(a[b])),h.forEach(function(d){var e=d.matches,c;(c=a[b].matches).push.apply(c,j(e))})))}),c}},{key:"_searchObjectList",value:function(h){var c=this,e=E(h,this.options),b=this._myIndex,f=b.keys,g=b.records,a=[];return g.forEach(function(h){var g=h.$,i=h.i,b;if(!d(g))return;b=[],f.forEach(function(a,d){b.push.apply(b,j(c._findMatches({key:a,value:g[d],searcher:e})))}),b.length&&a.push({idx:i,item:g,matches:b})}),a}},{key:"_findMatches",value:function(e){var j=e.key,a=e.value,h=e.searcher,c,g,i,b,k,l,m;return d(a)?(c=[],f(a)?a.forEach(function(b){var e=b.v,k=b.i,l=b.n,a,f,g,i;if(!d(e))return;a=h.searchIn(e),f=a.isMatch,g=a.score,i=a.indices,f&&c.push({score:g,key:j,value:e,idx:k,norm:l,indices:i})}):(g=a.v,i=a.n,b=h.searchIn(g),k=b.isMatch,l=b.score,m=b.indices,k&&c.push({score:l,key:j,value:g,norm:i,indices:m})),c):[]}}]),g}(),l.version='6.4.6',l.createIndex=ae,l.parseIndex=az,l.config=a,l.parseQuery=Z,aG(H),l});var resultsUI,clearResults;const options={includeScore:!0,threshold:.3,useExtendedSearch:!0,keys:["title","name","canton","territoire","eglise","meta","permalink","NPA","region"]};async function fetchJSON(){const a=await fetch('index.json'),b=await a.json();return b}fetchJSON().then(a=>{fuse=new Fuse(a,options)});const input=document.querySelector('input');resultsUI=document.querySelector('.search-results'),input.addEventListener('keyup',function(e){var a=fuse.search(this.value),c,d,b;console.log(a),clearResults();for(c in a)d=document.createElement('li'),b=document.createElement('a'),b.textContent=a[c].item.title,b.setAttribute('href',a[c].item.permalink),d.appendChild(b),resultsUI.appendChild(d)}),clearResults=function(){while(resultsUI.firstChild)resultsUI.removeChild(resultsUI.firstChild)},focusMethod=function(){document.getElementById("search").focus()},focusMethod()